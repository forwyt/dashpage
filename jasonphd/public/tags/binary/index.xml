<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Binary on Jasonphd Blogs</title>
    <link>http://localhost:1313/tags/binary/</link>
    <description>Recent content in Binary on Jasonphd Blogs</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 17 Mar 2018 14:54:44 +0800</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/binary/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>äºŒè¿›åˆ¶æ–‡ä»¶é‡æ’</title>
      <link>http://localhost:1313/ios/ios0/</link>
      <pubDate>Sat, 17 Mar 2018 14:54:44 +0800</pubDate>
      <guid>http://localhost:1313/ios/ios0/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/ww2.webp&#34; alt=&#34;lancher&#34; title=&#34;start&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;åç§°æ¥è‡ªæˆ˜äº‰æœ¯è¯­ æŠ¢æ»©ç™»é™† (beach head)&#xA;ç›®çš„æ˜¯æ›´å¿«çš„å°†iOSçš„applicationå¯åŠ¨æé€Ÿ. è®©ç”¨æˆ·æ›´å¿«çš„æ‰“å¼€app !æ¨å¹¿ä¸€æ³¢ğŸ¤£ &lt;a href=&#34;https://github.com/forwyt/beachhead&#34;&gt;å¼€æºåº“&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;è¿›ç¨‹è®¿é—®å†…å­˜çš„åŸç†&#34;&gt;è¿›ç¨‹è®¿é—®å†…å­˜çš„åŸç†&lt;/h2&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;åœ¨è®¡ç®—æœºä¸­ï¼Œ&lt;strong&gt;è¿›ç¨‹&lt;/strong&gt; æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…ç»™æ­£åœ¨è¿è¡Œçš„ç¨‹åºçš„ä¸€ç§èµ„æºã€‚å®ƒå¯ä»¥çœ‹ä½œæ˜¯ç¨‹åºçš„æ‰§è¡Œå®ä¾‹ï¼ŒåŒ…æ‹¬ç¨‹åºè®¡æ•°å™¨ã€å¯„å­˜å™¨ã€å †æ ˆå’Œæ‰“å¼€çš„æ–‡ä»¶ç­‰ã€‚æ¯ä¸ªè¿›ç¨‹éƒ½åœ¨è‡ªå·±çš„&lt;strong&gt;è™šæ‹Ÿåœ°å€&lt;/strong&gt;ç©ºé—´ä¸­è¿è¡Œï¼Œè¿™ä½¿å¾—æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;è™šæ‹Ÿåœ°å€&#34;&gt;è™šæ‹Ÿåœ°å€&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;åœ°å€ç©ºé—´åˆ’åˆ†ï¼šæ“ä½œç³»ç»Ÿå°†æ¯ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´åˆ’åˆ†ä¸ºå¤šä¸ªå›ºå®šå¤§å°çš„é¡µã€‚é€šå¸¸ï¼Œæ¯ä¸ªé¡µçš„å¤§å°ä¸º4KB&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;é¡µè¡¨åˆ›å»ºï¼šæ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹åˆ›å»ºä¸€ä¸ªé¡µè¡¨ï¼Œç”¨äºå°†è™šæ‹Ÿåœ°å€æ˜ å°„åˆ°ç‰©ç†åœ°å€ã€‚é¡µè¡¨æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œå®ƒè®°å½•äº†æ¯ä¸ªè™šæ‹Ÿé¡µå¯¹åº”çš„ç‰©ç†é¡µçš„åœ°å€ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;è™šæ‹Ÿåœ°å€è½¬æ¢ï¼šå½“è¿›ç¨‹è®¿é—®å†…å­˜æ—¶ï¼Œå®ƒä½¿ç”¨è™šæ‹Ÿåœ°å€ã€‚æ“ä½œç³»ç»Ÿé€šè¿‡æŸ¥æ‰¾é¡µè¡¨ä¸­çš„æ˜ å°„å…³ç³»ï¼Œå°†è™šæ‹Ÿåœ°å€è½¬æ¢ä¸ºç‰©ç†åœ°å€ã€‚è¿™ä¸ªè½¬æ¢è¿‡ç¨‹é€šå¸¸åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ã€‚&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;é¡µç›®å½•æŸ¥æ‰¾ï¼šè¿›ç¨‹çš„è™šæ‹Ÿåœ°å€é€šå¸¸è¢«åˆ’åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šé¡µç›®å½•ç´¢å¼•ã€é¡µè¡¨ç´¢å¼•å’Œé¡µå†…åç§»ã€‚é¦–å…ˆï¼Œæ“ä½œç³»ç»Ÿä½¿ç”¨é¡µç›®å½•ç´¢å¼•åœ¨é¡µç›®å½•ä¸­æŸ¥æ‰¾å¯¹åº”çš„é¡µè¡¨ã€‚&lt;/li&gt;&#xA;&lt;li&gt;é¡µè¡¨æŸ¥æ‰¾ï¼šæ“ä½œç³»ç»Ÿä½¿ç”¨é¡µè¡¨ç´¢å¼•åœ¨æ‰¾åˆ°çš„é¡µè¡¨ä¸­æŸ¥æ‰¾å¯¹åº”çš„ç‰©ç†é¡µçš„åœ°å€&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;ol start=&#34;4&#34;&gt;&#xA;&lt;li&gt;å†…å­˜è®¿é—®ï¼šå½“è™šæ‹Ÿåœ°å€è¢«è½¬æ¢ä¸ºç‰©ç†åœ°å€åï¼Œè¿›ç¨‹å¯ä»¥ä½¿ç”¨ç‰©ç†åœ°å€æ¥è®¿é—®å†…å­˜ã€‚è¿™æ ·ï¼Œè¿›ç¨‹å°±å¯ä»¥åœ¨è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­è¿›è¡Œå†…å­˜æ“ä½œï¼Œè€Œä¸éœ€è¦å…³å¿ƒç‰©ç†å†…å­˜çš„å®é™…åˆ†å¸ƒã€‚&lt;/li&gt;&#xA;&lt;/ol&gt;&#xA;&lt;p&gt;ä¸ºäº†æé«˜æ•ˆç‡å’Œæ–¹ä¾¿ç®¡ç†ï¼Œåˆå¯¹è™šæ‹Ÿå†…å­˜å’Œç‰©ç†å†…å­˜åˆè¿›è¡Œåˆ†é¡µï¼ˆPageï¼‰ã€‚å½“è¿›ç¨‹è®¿é—®ä¸€ä¸ªè™šæ‹Ÿå†…å­˜ Page è€Œå¯¹åº”çš„ç‰©ç†å†…å­˜å´ä¸å­˜åœ¨æ—¶ï¼Œä¼šè§¦å‘ä¸€æ¬¡ç¼ºé¡µä¸­æ–­ï¼ˆPage Faultï¼‰ï¼Œåˆ†é…ç‰©ç†å†…å­˜ï¼Œæœ‰éœ€è¦çš„è¯ä¼šä»ç£ç›˜ &lt;strong&gt;mmap&lt;/strong&gt; è¯»äººæ•°æ®ã€‚&#xA;mmap&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;mmapæ˜¯ä¸€ç§å†…å­˜æ˜ å°„æŠ€æœ¯ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºå°†æ–‡ä»¶æˆ–å…¶ä»–è®¾å¤‡æ˜ å°„åˆ°è‡ªå·±çš„è™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼Œä»è€Œå¯ä»¥åƒè®¿é—®å†…å­˜ä¸€æ ·è®¿é—®è¿™äº›æ•°æ®ã€‚mmapå¯ä»¥æä¾›é«˜æ•ˆçš„è¯»å†™æ–‡ä»¶çš„æ–¹å¼ï¼Œå¹¶ä¸”è¿˜å¯ä»¥ç”¨äºå…±äº«å†…å­˜å’ŒåŒ¿åå†…å­˜æ˜ å°„ç­‰åœºæ™¯&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;h3 id=&#34;page-fault&#34;&gt;Page Fault&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;å½“è¿›ç¨‹è®¿é—®ä¸€ä¸ªè™šæ‹Ÿå†…å­˜ Page è€Œå¯¹åº”çš„ç‰©ç†å†…å­˜å´ä¸å­˜åœ¨æ—¶ï¼Œä¼šè§¦å‘ä¸€æ¬¡ç¼ºé¡µä¸­æ–­ï¼ˆPage Faultï¼‰ï¼Œåˆ†é…ç‰©ç†å†…å­˜ï¼Œæœ‰éœ€è¦çš„è¯ä¼šä»ç£ç›˜ mmap è¯»äººæ•°æ®ã€‚é€šè¿‡ App Store æ¸ é“åˆ†å‘çš„ Appï¼ŒPage Fault è¿˜ä¼šè¿›è¡Œç­¾åéªŒè¯ï¼Œæ‰€ä»¥ä¸€æ¬¡ Page Fault çš„è€—æ—¶æ¯”æƒ³è±¡çš„å¤š&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;1.è™šæ‹Ÿå†…å­˜å…è®¸æ“ä½œç³»ç»Ÿæ‘†è„±ç‰©ç† RAM çš„é™åˆ¶ã€‚è™šæ‹Ÿå†…å­˜ç®¡ç†å™¨åˆ›å»ºä¸€ä¸ªé€»è¾‘åœ°å€ç©ºé—´ï¼ˆæˆ–â€œæ¯ä¸ªè¿›ç¨‹çš„â€œè™šæ‹Ÿâ€åœ°å€ç©ºé—´ï¼‰å¹¶å°†å…¶åˆ’åˆ†ä¸ºå¤§å°ç»Ÿä¸€çš„å†…å­˜å—ï¼Œç§°ä¸ºé¡µé¢ã€‚å¤„ç†å™¨åŠå…¶å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ç»´æŠ¤ä¸€ä¸ªé¡µè¡¨å°†ç¨‹åºé€»è¾‘åœ°å€ç©ºé—´ä¸­çš„é¡µé¢æ˜ å°„åˆ°è®¡ç®—æœº RAM ä¸­çš„ç¡¬ä»¶åœ°å€ã€‚å½“ç¨‹åºä»£ç è®¿é—®å†…å­˜ä¸­çš„åœ°å€æ—¶ï¼ŒMMU ä½¿ç”¨é¡µè¡¨å°†æŒ‡å®šçš„é€»è¾‘åœ°å€è½¬æ¢ä¸ºå®é™…çš„ç¡¬ä»¶å†…å­˜åœ°å€ã€‚è¿™ç§è½¬æ¢æ˜¯è‡ªåŠ¨å‘ç”Ÿçš„ï¼Œå¹¶ä¸”å¯¹äºæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºæ˜¯é€æ˜çš„ã€‚&lt;/p&gt;&#xA;&lt;p&gt;2.å¯¹äºç¨‹åºè€Œè¨€ï¼Œå…¶é€»è¾‘åœ°å€ç©ºé—´ä¸­çš„åœ°å€å§‹ç»ˆå¯ç”¨ã€‚ä½†æ˜¯ï¼Œå¦‚æœåº”ç”¨ç¨‹åºè®¿é—®å½“å‰ä¸åœ¨ç‰©ç† RAM ä¸­çš„å†…å­˜é¡µä¸Šçš„åœ°å€ï¼Œå‘ç”Ÿé¡µé¢é”™è¯¯ã€‚å½“è¿™ç§æƒ…å†µå‘ç”Ÿæ—¶ï¼Œè™šæ‹Ÿå†…å­˜ç³»ç»Ÿä¼šè°ƒç”¨ä¸€ä¸ªç‰¹æ®Šçš„é¡µé¢é”™è¯¯å¤„ç†ç¨‹åºæ¥ç«‹å³å“åº”è¯¥é”™è¯¯ã€‚é¡µé¢é”™è¯¯å¤„ç†ç¨‹åºåœæ­¢å½“å‰æ­£åœ¨æ‰§è¡Œçš„ä»£ç ï¼Œæ‰¾åˆ°ç‰©ç†å†…å­˜çš„ç©ºé—²é¡µé¢ï¼Œä»ç£ç›˜åŠ è½½åŒ…å«æ‰€éœ€æ•°æ®çš„é¡µé¢ï¼Œæ›´æ–°é¡µè¡¨ï¼Œç„¶åå°†æ§åˆ¶æƒè¿”å›ç»™ç¨‹åºä»£ç ï¼Œç¨‹åºä»£ç å¯ä»¥è®¿é—®å†…å­˜åœ°å€é€šå¸¸æƒ…å†µä¸‹ã€‚è¿™ä¸ªè¿‡ç¨‹è¢«ç§°ä¸ºå¯»å‘¼ã€‚&lt;/p&gt;&#xA;&lt;p&gt;3.å¦‚æœç‰©ç†å†…å­˜ä¸­æ²¡æœ‰å¯ç”¨çš„ç©ºé—²é¡µé¢ï¼Œåˆ™å¤„ç†ç¨‹åºå¿…é¡»é¦–å…ˆé‡Šæ”¾ç°æœ‰é¡µé¢ä»¥ä¸ºæ–°é¡µé¢è…¾å‡ºç©ºé—´ã€‚ç³»ç»Ÿå¦‚ä½•å‘å¸ƒé¡µé¢å–å†³äºå¹³å°ã€‚åœ¨ OS X ä¸­ï¼Œè™šæ‹Ÿå†…å­˜ç³»ç»Ÿç»å¸¸å°†é¡µé¢å†™å…¥åå¤‡å­˜å‚¨ã€‚è¿™åå¤‡å­˜å‚¨æ˜¯åŸºäºç£ç›˜çš„å­˜å‚¨åº“ï¼Œå…¶ä¸­åŒ…å«ç»™å®šè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜é¡µçš„å‰¯æœ¬ã€‚å°†æ•°æ®ä»ç‰©ç†å†…å­˜ç§»åŠ¨åˆ°åå¤‡å­˜å‚¨ç§°ä¸ºè°ƒå‡ºï¼ˆæˆ–â€œäº¤æ¢å‡ºâ€ï¼‰ï¼›å°†æ•°æ®ä»åå¤‡å­˜å‚¨ç§»å›ç‰©ç†å†…å­˜ç§°ä¸ºåˆ†é¡µï¼ˆæˆ–â€œäº¤æ¢â€ï¼‰ã€‚åœ¨ iOS ä¸­ï¼Œæ²¡æœ‰åå¤‡å­˜å‚¨ï¼Œå› æ­¤é¡µé¢æ°¸è¿œä¸ä¼šè°ƒå‡ºåˆ°ç£ç›˜ï¼Œä½†åªè¯»é¡µé¢ä»ä¼šæ ¹æ®éœ€è¦ä»ç£ç›˜è°ƒå…¥ã€‚&lt;/p&gt;&#xA;&lt;p&gt;4.åœ¨ OS X å’Œæ—©æœŸç‰ˆæœ¬çš„ iOS ä¸­ï¼Œé¡µé¢çš„å¤§å°æ˜¯ 4 KBã€‚åœ¨æ›´é«˜ç‰ˆæœ¬çš„ iOS ä¸­ï¼ŒåŸºäº A7 å’Œ A8 çš„ç³»ç»Ÿå‘ç”± 4 KB ç‰©ç†é¡µæ”¯æŒçš„ 64 ä½ç”¨æˆ·ç©ºé—´å…¬å¼€ 16 KB é¡µé¢ï¼Œè€Œ A9 ç³»ç»Ÿå…¬å¼€ç”± 16 KB ç‰©ç†é¡µæ”¯æŒçš„ 16 KB é¡µé¢ã€‚è¿™äº›å¤§å°å†³å®šäº†å‘ç”Ÿé¡µé¢é”™è¯¯æ—¶ç³»ç»Ÿä»ç£ç›˜è¯»å–å¤šå°‘KBã€‚å½“ç³»ç»ŸèŠ±è´¹è¿‡å¤šçš„æ—¶é—´å¤„ç†é¡µé¢é”™è¯¯ä»¥åŠè¯»å†™é¡µé¢è€Œä¸æ˜¯æ‰§è¡Œç¨‹åºä»£ç æ—¶ï¼Œå°±ä¼šå‘ç”Ÿç£ç›˜æŠ–åŠ¨ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>ioså†…å­˜åŸç†ï¼ˆ3ï¼‰</title>
      <link>http://localhost:1313/ios/ios3/</link>
      <pubDate>Wed, 14 Sep 2016 15:44:54 +0800</pubDate>
      <guid>http://localhost:1313/ios/ios3/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/29e9bff778c21ba1fce2e366c566cc14.watch.webp&#34; alt=&#34;&#34;&gt;&#xA;è™½ç„¶ARCæ—¶ä»£ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶è¦æ³¨æ„å¾ªç¯å¼•ç”¨å’ŒCoreFoundationå¯¹è±¡çš„å¼•ç”¨è®¡æ•°é—®é¢˜&amp;hellip;&lt;/p&gt;&#xA;&lt;p&gt;è™½ç„¶ARCæ—¶ä»£ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶è¦æ³¨æ„å¾ªç¯å¼•ç”¨å’ŒCoreFoundationå¯¹è±¡çš„å¼•ç”¨è®¡æ•°é—®é¢˜&lt;/p&gt;&#xA;&lt;h3 id=&#34;mrc&#34;&gt;MRC&lt;/h3&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;å¯¹è±¡æ“ä½œ&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;OCä¸­å¯¹åº”çš„æ–¹æ³•&lt;/th&gt;&#xA;          &lt;th style=&#34;text-align: center&#34;&gt;å¯¹åº”çš„å¼•ç”¨è®¡æ•°çš„åŒ–&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;æŒæœ‰å¯¹è±¡&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;retain&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;+1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;é‡Šæ”¾å¯¹è±¡&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;release&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;-1&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;åºŸå¼ƒå¯¹è±¡&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;dealloc&lt;/td&gt;&#xA;          &lt;td style=&#34;text-align: center&#34;&gt;0&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;arc&#34;&gt;ARC&lt;/h3&gt;&#xA;&lt;p&gt;æ ¹æ®æŒ‡é’ˆæ¥æ“ä½œå¼•ç”¨&#xA;åœ¨ARCæ¨¡å¼ä¸‹ï¼Œåªè¦æ²¡æœ‰å¼ºæŒ‡é’ˆï¼ˆå¼ºå¼•ç”¨ï¼‰æŒ‡å‘å¯¹è±¡ï¼Œå¯¹è±¡å°±ä¼šè¢«é‡Šæ”¾ã€‚åœ¨ARCæ¨¡å¼ä¸‹ï¼Œä¸å…è®¸ä½¿ç”¨retainã€releaseã€retainCountç­‰æ–¹æ³•ã€‚å¹¶ä¸”ï¼Œå¦‚æœä½¿ç”¨deallocæ–¹æ³•æ—¶ï¼Œä¸å…è®¸è°ƒç”¨[super dealloc]æ–¹æ³•ã€‚&lt;/p&gt;&#xA;&lt;p&gt;ARCæ¨¡å¼ä¸‹çš„propertyå˜é‡ä¿®é¥°è¯ä¸ºstrongã€weakï¼Œç›¸å½“äºMRCæ¨¡å¼ä¸‹çš„retainã€assignã€‚strong :ä»£æ›¿retainï¼Œç¼ºçœå…³é”®è¯ï¼Œä»£è¡¨å¼ºå¼•ç”¨ã€‚weakï¼šä»£æ›¿assignï¼Œå£°æ˜äº†ä¸€ä¸ªå¯ä»¥è‡ªåŠ¨è®¾ç½®nilçš„å¼±å¼•ç”¨ï¼Œä½†æ˜¯æ¯”assignå¤šä¸€ä¸ªåŠŸèƒ½ï¼ŒæŒ‡é’ˆæŒ‡å‘çš„åœ°å€è¢«é‡Šæ”¾ä¹‹åï¼ŒæŒ‡é’ˆæœ¬èº«ä¹Ÿä¼šè‡ªåŠ¨è¢«é‡Šæ”¾ã€‚&lt;/p&gt;&#xA;&lt;p&gt;å®ç°æ–¹å¼æ˜¯åœ¨ç¼–è¯‘æ—¶æœŸè‡ªåŠ¨åœ¨å·²æœ‰ä»£ç ä¸­æ’å…¥åˆé€‚çš„å†…å­˜ç®¡ç†ä»£ç ä»¥åŠåœ¨ Runtime åšä¸€äº›ä¼˜åŒ–ã€‚è¯¦ç»†çš„å·¥ä½œåŸç†è§ ä¸Šä¸€ç¯‡ &lt;strong&gt;å†…å­˜ç®¡ç†(2)&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;p&gt;ARCæä¾›å››ç§ä¸å†…å­˜ç®¡ç†æœ‰å…³çš„å˜é‡æ ‡è¯†ç¬¦ï¼Œåˆ†åˆ«æ˜¯ï¼š&lt;/p&gt;&#xA;&lt;h3 id=&#34;å…³é”®å­—&#34;&gt;å…³é”®å­—&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;__strong&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;__strong æ˜¯é»˜è®¤ä½¿ç”¨çš„æ ‡è¯†ç¬¦ã€‚åªæœ‰è¿˜æœ‰ä¸€ä¸ªå¼ºæŒ‡é’ˆæŒ‡å‘æŸä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å°±ä¼šä¸€ç›´å­˜æ´»ã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;__weak&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;__weak å£°æ˜è¿™ä¸ªå¼•ç”¨ä¸ä¼šä¿æŒè¢«å¼•ç”¨å¯¹è±¡çš„å­˜æ´»ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰å¼ºå¼•ç”¨äº†ï¼Œå¼±å¼•ç”¨ä¼šè¢«ç½®ä¸º nil&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;_ unsafe _unretained&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;__unsafe_unretained å£°æ˜è¿™ä¸ªå¼•ç”¨ä¸ä¼šä¿æŒè¢«å¼•ç”¨å¯¹è±¡çš„å­˜æ´»ï¼Œå¦‚æœå¯¹è±¡æ²¡æœ‰å¼ºå¼•ç”¨äº†ï¼Œå®ƒä¸ä¼šè¢«ç½®ä¸º nilã€‚å¦‚æœå®ƒå¼•ç”¨çš„å¯¹è±¡è¢«å›æ”¶æ‰äº†ï¼Œè¯¥æŒ‡é’ˆå°±å˜æˆäº†é‡æŒ‡é’ˆã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;__autoReleasing&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;__autoreleasing ç”¨äºæ ‡ç¤ºä½¿ç”¨å¼•ç”¨ä¼ å€¼çš„å‚æ•°ï¼ˆid *ï¼‰ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾æ‰ã€‚&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;å˜é‡æ ‡è¯†ç¬¦çš„ç”¨æ³•å¦‚ä¸‹ï¼Œåœ¨ç±»å‹å’Œå˜é‡åä¹‹é—´ï¼š&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Number&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;__strong&lt;/span&gt; num &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [[Number alloc] init];&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å±æ€§æ ‡è¯†ç¬¦&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;@property&lt;/span&gt; (&lt;span style=&#34;color:#66d9ef&#34;&gt;assign&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;retain&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;strong&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;weak&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;unsafe_unretained&lt;/span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;copy&lt;/span&gt;) Number&lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; num&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;assignè¡¨æ˜ setter ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„èµ‹å€¼æ“ä½œï¼Œé€šå¸¸ç”¨äºåŸºæœ¬çš„æ•°å€¼ç±»å‹ï¼Œä¾‹å¦‚CGFloatå’ŒNSIntegerã€‚&lt;/p&gt;&#xA;&lt;table&gt;&#xA;  &lt;thead&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;th&gt;key&lt;/th&gt;&#xA;          &lt;th&gt;å«ä¹‰&lt;/th&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/thead&gt;&#xA;  &lt;tbody&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;strong&lt;/td&gt;&#xA;          &lt;td&gt;è¡¨æ˜å±æ€§å®šä¹‰ä¸€ä¸ªæ‹¥æœ‰è€…å…³ç³»ã€‚å½“ç»™å±æ€§è®¾å®šä¸€ä¸ªæ–°å€¼çš„æ—¶å€™ï¼Œé¦–å…ˆè¿™ä¸ªå€¼è¿›è¡Œ retain ï¼Œæ—§å€¼è¿›è¡Œ release ï¼Œç„¶åè¿›è¡Œèµ‹å€¼æ“ä½œã€‚&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;weak&lt;/td&gt;&#xA;          &lt;td&gt;è¡¨æ˜å±æ€§å®šä¹‰äº†ä¸€ä¸ªéæ‹¥æœ‰è€…å…³ç³»ã€‚å½“ç»™å±æ€§è®¾å®šä¸€ä¸ªæ–°å€¼çš„æ—¶å€™ï¼Œè¿™ä¸ªå€¼ä¸ä¼šè¿›è¡Œ retainï¼Œæ—§å€¼ä¹Ÿä¸ä¼šè¿›è¡Œ releaseï¼Œ è€Œæ˜¯è¿›è¡Œç±»ä¼¼ assign çš„æ“ä½œã€‚ä¸è¿‡å½“å±æ€§æŒ‡å‘çš„å¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œè¯¥å±æ€§ä¼šè¢«ç½®ä¸ºnil&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;unsafe_unretained&lt;/td&gt;&#xA;          &lt;td&gt;è¯­ä¹‰å’Œ assign ç±»ä¼¼ï¼Œä¸è¿‡æ˜¯ç”¨äºå¯¹è±¡ç±»å‹çš„ï¼Œè¡¨ç¤ºä¸€ä¸ªéæ‹¥æœ‰(unretained)çš„ï¼ŒåŒæ—¶ä¹Ÿä¸ä¼šåœ¨å¯¹è±¡è¢«é”€æ¯æ—¶ç½®ä¸ºnilçš„(unsafe)å…³ç³»&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;copy&lt;/td&gt;&#xA;          &lt;td&gt;ç±»ä¼¼äº strongï¼Œä¸è¿‡åœ¨èµ‹å€¼æ—¶è¿›è¡Œ copy æ“ä½œè€Œä¸æ˜¯ retain æ“ä½œã€‚é€šå¸¸åœ¨éœ€è¦ä¿ç•™æŸä¸ªä¸å¯å˜å¯¹è±¡ï¼ˆNSStringæœ€å¸¸è§ï¼‰ï¼Œå¹¶ä¸”é˜²æ­¢å®ƒè¢«æ„å¤–æ”¹å˜æ—¶ä½¿ç”¨&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;      &lt;tr&gt;&#xA;          &lt;td&gt;unsafe_unretained&lt;/td&gt;&#xA;          &lt;td&gt;ï¼ˆ1ï¼‰å…¼å®¹æ€§ï¼ŒiOS4ä¹‹å‰æ²¡æœ‰weakåªèƒ½ç”¨unsafe_unretainedï¼ˆ2ï¼‰æ€§èƒ½è€ƒè™‘ï¼Œæ€§èƒ½æ¯”weakè¦å¥½&lt;/td&gt;&#xA;      &lt;/tr&gt;&#xA;  &lt;/tbody&gt;&#xA;&lt;/table&gt;&#xA;&lt;h3 id=&#34;arcä¸‹ä»ç„¶éœ€è¦æ³¨æ„çš„å†…å­˜ç®¡ç†é—®é¢˜&#34;&gt;ARCä¸‹ä»ç„¶éœ€è¦æ³¨æ„çš„å†…å­˜ç®¡ç†é—®é¢˜&lt;/h3&gt;&#xA;&lt;p&gt;å¾ªç¯å¼•ç”¨é—®é¢˜ã€‚&#xA;å½“ä¸¤ä¸ªå¯¹è±¡äº’ç›¸æŒæœ‰å¯¹æ–¹çš„å¼ºå¼•ç”¨æ—¶ï¼Œå¹¶ä¸”è¿™ä¸¤ä¸ªå¯¹è±¡çš„å¼•ç”¨è®¡æ•°éƒ½ä¸æ˜¯0çš„æ—¶å€™ï¼Œä¾¿é€ æˆäº†å¼•ç”¨å¾ªç¯ï¼Œä»è€Œä½¿ç”¨è®¡æ•°åå†…å­˜æ— æ³•å¾—åˆ°é‡Šæ”¾ã€‚å¯ä»¥ä»ä»¥ä¸‹å‡ ä¸ªæ–¹é¢å…¥æ‰‹ï¼š&lt;/p&gt;</description>
    </item>
    <item>
      <title>ioså†…å­˜åŸç†ï¼ˆ2ï¼‰</title>
      <link>http://localhost:1313/ios/ios2/</link>
      <pubDate>Mon, 12 Sep 2016 14:44:52 +0800</pubDate>
      <guid>http://localhost:1313/ios/ios2/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/9fb61babf6f061ea4929598c55cd8c2e.programming-1873854_1920.webp&#34; alt=&#34;&#34;&gt;&#xA;ç»è¿‡å‰é¢æ–‡æ¡£æˆ‘ä»¬å¤§è‡´äº†è§£äº†arc/mrcæœºåˆ¶,æ˜¯ä¸ºäº†æ›´å¥½çš„å»åšiOSçš„å†…å­˜ç®¡ç†&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;å‰è¨€&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;p&gt;ç»è¿‡å‰é¢æ–‡æ¡£æˆ‘ä»¬å¤§è‡´äº†è§£äº†arc/mrcæœºåˆ¶,æ˜¯ä¸ºäº†æ›´å¥½çš„å»åšiOSçš„å†…å­˜ç®¡ç†.åœ¨é¢å¯¹ä¸€ä¸ªå¯¹è±¡çš„æ—¶å€™,ä»åˆå§‹åŒ–åˆ°dellocé”€æ¯çš„è¿‡ç¨‹ä¸­è¿›è¡Œåˆé€‚çš„æ’å…¥ &lt;em&gt;retain&lt;/em&gt; å’Œ &lt;em&gt;release&lt;/em&gt; åšåˆ°å†…å­˜çš„å›æ”¶é‡Šæ”¾â™»ï¸,éšç€iOSçš„è¿­ä»£å‘å±•,æˆ‘ä»¬å¼€å§‹é€æ¸é‡‡ç”¨ä¸€ç§è§£æ”¾ç¨‹åºå‘˜çš„æ–°å‹ç®¡ç†æ¨¡å¼ ARC &amp;hellip;&lt;/p&gt;&#xA;&lt;h3 id=&#34;ä»€ä¹ˆæ˜¯arcmrc&#34;&gt;ä»€ä¹ˆæ˜¯ARC/MRC&lt;/h3&gt;&#xA;&lt;p&gt;&lt;strong&gt;Manual Reference Counting&lt;/strong&gt; æ˜¯æ ¹æ®å¯¹è±¡çš„å¼•ç”¨è®¡æ•°å™¨ &lt;strong&gt;reference count&lt;/strong&gt; æ¥åˆ¤æ–­åœ¨ä½•æ—¶å°†ä¸€ä¸ªå¯¹è±¡æ‰€å ç”¨çš„å†…å­˜å›æ”¶&#xA;&lt;strong&gt;Automatic Reference Counting&lt;/strong&gt; è‡ªåŠ¨å¼•ç”¨è®¡æ•° æ˜¯è‹¹æœå­WWDC2011å¹´å¼•å…¥çš„,å…¶å·¥ä½œåŸç†ä¸‹é¢è¯¦ç»†ç†è§£,æ ¹æœ¬ä¸Šæ˜¯é€šè¿‡å¼ºæŒ‡é’ˆæ¥åˆ¤æ–­&lt;/p&gt;&#xA;&lt;h3 id=&#34;autoreleasepool&#34;&gt;AutoreleasePool&lt;/h3&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;ä»mainå‡½æ•°å¼€å§‹äº†è§£:&lt;/p&gt;&lt;/blockquote&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;const&lt;/span&gt; &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; argv[]) {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#66d9ef&#34;&gt;@autoreleasepool&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; UIApplicationMain(argc, argv, nil, NSStringFromClass([AppDelegate &lt;span style=&#34;color:#66d9ef&#34;&gt;class&lt;/span&gt;]));&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    }&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨è¿™ä¸ªautoreleasepoolçš„blocké‡Œé¢ æ‰€æœ‰çš„äº‹ä»¶,æ¶ˆæ¯,å…¨éƒ¨è½¬äº¤ç»™äº†&lt;strong&gt;UIApplication&lt;/strong&gt;æ¥å¤„ç†,ä»æ­¤å¯ä»¥çœ‹å‡ºä¸€ä¸ªiOSåº”ç”¨æ˜¯å®Œå…¨åŒ…è£¹åœ¨è‡ªåŠ¨é‡Šæ”¾æ± é‡Œé¢çš„&lt;/p&gt;&#xA;&lt;p&gt;é€šè¿‡clang ç¼–è¯‘å™¨å°†mainå‡½æ•°è½¬æ¢æˆäº† main.cpp&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   &lt;span style=&#34;color:#960050;background-color:#1e0010&#34;&gt;$&lt;/span&gt; clang &lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;rewrite&lt;span style=&#34;color:#f92672&#34;&gt;-&lt;/span&gt;objc main.m&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬å°†å…³æ³¨ç‚¹æ”¾åœ¨__AtAutoreleasePoolè¿™ä¸ªç»“æ„ä½“ä¸Šé¢&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-cpp&#34; data-lang=&#34;cpp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;struct&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;__AtAutoreleasePool&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  __AtAutoreleasePool() {atautoreleasepoolobj &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; objc_autoreleasePoolPush();}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#f92672&#34;&gt;~&lt;/span&gt;__AtAutoreleasePool() {objc_autoreleasePoolPop(atautoreleasepoolobj);}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt; atautoreleasepoolobj;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;};&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸éš¾çœ‹å‡ºæˆ‘ä»¬mainå‡½æ•°çš„å·¥ä½œåŸç†å¤§è‡´ä¸Šæ˜¯åœ¨åˆå§‹åŒ–æ—¶å€™è°ƒç”¨äº†&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;void * atautoreleasepoolobj = objc_autoreleasePoolPush();&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ç„¶ååœ¨ææ„æ—¶å€™è°ƒç”¨äº†&lt;/p&gt;&#xA;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;objc_autoreleasePoolPop(atautoreleasepoolobj);```&#xA;&#xA;æ‰€ä»¥@autoreleasepoolä¼šè¢«è½¬æ¢æˆä¸Šé¢ä¸¤è¡Œä»£ç &#xA;&#xA;&amp;gt; objc_autoreleasePoolPush&#xA;&#xA;ä»[æºç ](https://opensource.apple.com/source/objc4/objc4-532/runtime/NSObject.mm.auto.html &amp;#34;æ ‡é¢˜&amp;#34;)ä¸­æˆ‘ä»¬çœ‹åˆ°&#xA;&#xA;```objc&#xA;void *_objc_autoreleasePoolPush(void) { return objc_autoreleasePoolPush(); }&#xA;void _objc_autoreleasePoolPop(void *ctxt) { objc_autoreleasePoolPop(ctxt); }&#xA;&#xA;void *&#xA;objc_autoreleasePoolPush(void)&#xA;{&#xA;    if (UseGC) return NULL;&#xA;    return AutoreleasePoolPage::push();&#xA;}&#xA;&#xA;void&#xA;objc_autoreleasePoolPop(void *ctxt)&#xA;{&#xA;    if (UseGC) return;&#xA;&#xA;    // fixme rdar://9167170&#xA;    if (!ctxt) return;&#xA;&#xA;    AutoreleasePoolPage::pop(ctxt);&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;pushå’Œpopæ˜¯æ“ä½œè¿™ä¸€ä¸ª &lt;strong&gt;AutoreleasePoolPage&lt;/strong&gt; å¯¹è±¡&lt;/p&gt;</description>
    </item>
    <item>
      <title>ioså†…å­˜åŸç†ï¼ˆ1ï¼‰</title>
      <link>http://localhost:1313/ios/ios1/</link>
      <pubDate>Sat, 10 Sep 2016 09:43:12 +0800</pubDate>
      <guid>http://localhost:1313/ios/ios1/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;http://localhost:1313/images/eb99c63605e608e7e685dc8c9d04603d.board1.webp&#34; alt=&#34;board1.jpg&#34;&gt;&#xA;åœ¨iOSçš„å¼€å‘ä¸­æˆ‘ä»¬æ¥è§¦åˆ°äº†ARC/MRCè¿™äº›æœºåˆ¶,ä¸ºäº†æ›´å¥½çš„äº†è§£å…¶ä¸­çš„åŸç†,æˆ‘ä»¬å¯ä»¥ä»å®˜æ–¹çš„æ–‡æ¡£ä½œä¸ºå…¥å£æ¥çœ‹çœ‹è¿™äº›åè¯èƒŒåæ›´æ·±å…¥çš„æ„ä¹‰.&lt;/p&gt;&#xA;&lt;p&gt;åœ¨iOSçš„å¼€å‘ä¸­æˆ‘ä»¬æ¥è§¦åˆ°äº†ARC/MRCè¿™äº›æœºåˆ¶,ä¸ºäº†æ›´å¥½çš„äº†è§£å…¶ä¸­çš„åŸç†,æˆ‘ä»¬å¯ä»¥ä»å®˜æ–¹çš„æ–‡æ¡£ä½œä¸ºå…¥å£æ¥çœ‹çœ‹è¿™äº›åè¯èƒŒåæ›´æ·±å…¥çš„æ„ä¹‰.&lt;/p&gt;&#xA;&lt;h2 id=&#34;01å†…å­˜ç®¡ç†&#34;&gt;01å†…å­˜ç®¡ç†&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;https://jasonphd.com/pic/shentu.jpg&#34; alt=&#34;&#34;&gt;&#xA;åŸºæœ¬å†…å­˜ç®¡ç†è§„åˆ™å†…å­˜ç®¡ç†æ¨¡å‹åŸºäºå¯¹è±¡æ‰€æœ‰æƒã€‚ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥å…·æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªæ‰€æœ‰è€…ã€‚åªè¦ä¸€ä¸ªå¯¹è±¡è‡³å°‘å…·æœ‰ä¸€ä¸ªæ‰€æœ‰è€…ï¼Œå®ƒå°±ä¼šç»§ç»­å­˜åœ¨ã€‚å¦‚æœå¯¹è±¡æ²¡æœ‰æ‰€æœ‰è€…ï¼Œåˆ™è¿è¡Œæ—¶ç³»ç»Ÿä¼šè‡ªåŠ¨é”€æ¯å®ƒ.&lt;/p&gt;&#xA;&lt;p&gt;è‹¹æœç»™å‡ºäº†å››æ¡å‡†åˆ™&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;ç®¡ç†ä»»ä½•ç”±ä½ è‡ªå·±åˆ›å»ºçš„å¯¹è±¡&lt;/li&gt;&#xA;&lt;li&gt;é€šè¿‡retainæ¥æŒæœ‰ä¸€ä¸ªå¯¹è±¡ (åœ¨å¯¹è±¡æ–¹æ³•/initæ–¹æ³•ä¸­è°ƒç”¨ )ä¸€èˆ¬åœ¨ä¸‹é¢ä¸¤ç§æƒ…å†µ&#xA;&lt;ul&gt;&#xA;&lt;li&gt;å½“ä½ æƒ³å°†ä¸€ä¸ªå¯¹è±¡å­˜å‚¨ä¸ºå±æ€§å€¼æ—¶&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;å½“ä½ æƒ³é˜²æ­¢ä¸€ä¸ªå¯¹è±¡è¢«é‡Šæ”¾æ—¶&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;å½“ä½ ä¸å†éœ€è¦è¿™ä¸ªå¯¹è±¡æ—¶å€™ è¯·é‡Šæ”¾&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    Person &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;aPerson &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [[Person alloc] init];&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    NSString &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;name &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; aPerson.fullName;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#75715e&#34;&gt;// ...&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;    [aPerson &lt;span style=&#34;color:#66d9ef&#34;&gt;release&lt;/span&gt;];&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;tips&#xA;1.åœ¨iOSä¸­æ¶‰åŠåˆ°å¯¹è±¡æŒæœ‰çš„æ˜¯åŸºäºä¸€å¥— &lt;em&gt;NSObject protocol&lt;/em&gt;åè®® ä»¥åŠä¸€äº›æ ‡å‡†çš„æ–¹æ³•åæ¥å®ç°çš„,ä¾‹å¦‚alloc,newObject,copy,mutableCopyæ¥å®ç°çš„&lt;/p&gt;&#xA;&lt;p&gt;2.ç®¡ç†å¯¹è±¡,æˆ‘ä»¬ä»Appleç»™å‡ºçš„ä¸¤ä¸ªä¾‹å­&lt;/p&gt;&#xA;&lt;p&gt;å½“ä½ æ‹…å¿ƒä½ çš„å¯¹è±¡allocå,åœ¨returnä¹‹å‰è°ƒç”¨[object release]å¯¼è‡´å¯¹è±¡è¢«é‡Šæ”¾ é‚£ä¹ˆé‡‡ç”¨autorelease,è¯¥æ–¹æ³•ä¼šåœ¨è¿”å›å¯¹è±¡ä¹‹åè°ƒç”¨releaseæ–¹æ³•&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- (NSString &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#a6e22e&#34;&gt;fullName&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    NSString &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;string &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [[[NSString alloc] initWithFormat:&lt;span style=&#34;color:#e6db74&#34;&gt;@&amp;#34;%@ %@&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                          self.firstName, self.lastName] autorelease];&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; string;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢è¿™ç§æ–¹æ³•æ˜¯åœ¨è°ƒç”¨è€…è°ƒç”¨æ­¤æ–¹æ³•ä¹‹å å¯¹è±¡è¢«é”€æ¯ä¹‹å‰è¾¾åˆ°å°†å¯¹è±¡ä¼ é€’ç»™å¤–é¢çš„æ•ˆæœ&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-objc&#34; data-lang=&#34;objc&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;- (NSString &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#a6e22e&#34;&gt;fullName&lt;/span&gt; {&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    NSString &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;string &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; [NSString stringWithFormat:&lt;span style=&#34;color:#e6db74&#34;&gt;@&amp;#34;%@ %@&amp;#34;&lt;/span&gt;,&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                 self.firstName, self.lastName];&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; string;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ClassName æˆ–è€… id å»å®Œæˆæˆ‘ä»¬çš„é€»è¾‘æ“ä½œä¾‹å¦‚&amp;amp;objectæŒ‡å‘å†…å­˜åœ°å€ ,æ‰€ä»¥æˆ‘ä»¬ä¸æŒæœ‰å¯¹è±¡å°±æ— éœ€å»ç®¡ç†å¯¹è±¡&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
